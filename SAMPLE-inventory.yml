#Interface numbers like to jump around on reboot...
all:
  children:
    sensors:
        children:
            rpi:
                hosts:
                    rpi3bp:
                        send_interface: eth7
                        capture_interface: eth0
                        line_pps_limit: 160000

                        #Facts inherited from previous tests
                        interface_pps_limit: 70000
                        rps_mask: 0 #0000 All made it worse
                        NAPI_budget_best: 300
                        backlog_best: 32768
                        backlog_weight_best: 1200

                    rpi4:
                        send_interface: eth8
                        capture_interface: eth0
                        line_pps_limit: 160000

                        #Facts inherited from previous tests
                        interface_pps_limit: 158000
                        rps_mask: 0 #0000 All made it worse
                        NAPI_budget_best: 300
                        backlog_best: 1000
                        backlog_weight_best: 1200
                vars:
                    ansible_user: pi
                    ansible_become_method: sudo
                    experiment_dir: /exp
                    ansible_python_interpreter: /usr/bin/python

            nvidia:
                hosts:
                    tx1:
                        capture_interface: eth0
                        send_interface: eth2
                        line_pps_limit: 160000
                        
                        #Facts inherited from previous tests
                        interface_pps_limit: 102000
                        rps_mask: E #1110 (4 cpu total, CPU0 handling IRQ)
                        NAPI_budget_best: 1200
                        backlog_best: 32768
                        backlog_weight_best: 1200
                    tx2:
                        capture_interface: eth1
                        send_interface: eth6
                        line_pps_limit: 160000

                        #Facts inherited from previous tests
                        interface_pps_limit: 148000
                        rps_mask: 3E #0011 1110 (6 cpu total, CPU0 handling IRQ)
                        NAPI_budget_best: 300
                        backlog_best: 1000
                        backlog_weight_best: 300
                    xavier:
                        capture_interface: eth0
                        send_interface: eth7 #shared with rpi3bp due to quad nic limit
                        line_pps_limit: 160000

                        #Facts inherited from previous tests
                        interface_pps_limit: 159000
                        rps_mask: FE #1111 1110 (8 cpu total) CPU0 handling IRQ
                        NAPI_budget_best: 1200
                        backlog_best: 1000
                        backlog_weight_best: 300
                vars:
                    ansible_user: nvidia
                    ansible_become_method: sudo
                    experiment_dir: /exp

  vars:
    ansible_host_dir: /ansible_working_dir
